<!DOCTYPE html>
<html lang="en">

<head>
  <title>Andrew's Firebase Demo</title>
  <meta charset="utf-8" />
  <!--Include firebase related things -->
  <!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
  <script src="https://www.gstatic.com/firebasejs/7.2.2/firebase-app.js"></script>

  <!-- Add Firebase products that you want to use -->
  <script src="https://www.gstatic.com/firebasejs/7.2.2/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.2.2/firebase-firestore.js"></script>
  <script src="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.js"></script>
  <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.css" />

  <script>
    // Your web app's Firebase configuration
    var firebaseConfig = {
  apiKey: "AIzaSyAK-BYoet4Ocs5BZAAEyohU7XMUvhecJww",
  authDomain: "andrews-awesome-project.firebaseapp.com",
  databaseURL: "https://andrews-awesome-project.firebaseio.com",
  projectId: "andrews-awesome-project",
  storageBucket: "andrews-awesome-project.appspot.com",
  messagingSenderId: "650308917339",
  appId: "1:650308917339:web:909fd54b2854a2d964c77e",
  measurementId: "G-0DRLBV5WXF"
};
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    firebase.analytics();
  </script>
</head>

<body>

  <h1>Welcome to Andrew's Amazing App!</h1>
  <div id="firebaseui-auth-container"></div>
  <div id="loader">Loading...</div>

  <script>
    // Initialize the FirebaseUI Widget using Firebase.
    var ui = new firebaseui.auth.AuthUI(firebase.auth());

    var uiConfig = {
      callbacks: {
        signInSuccessWithAuthResult: function (authResult, redirectUrl) {
          // User successfully signed in.
          // Return type determines whether we continue the redirect automatically
          // or whether we leave that to developer to handle.
          return true;
        },
        uiShown: function () {
          // The widget is rendered.
          // Hide the loader.
          document.getElementById('loader').style.display = 'none';
        }
      },
      // Will use popup for IDP Providers sign-in flow instead of the default, redirect.
      signInFlow: 'popup',
      signInSuccessUrl: '<url-to-redirect-to-on-success>',
      signInOptions: [
        // Leave the lines as is for the providers you want to offer your users.
        //firebase.auth.GoogleAuthProvider.PROVIDER_ID,
        //firebase.auth.FacebookAuthProvider.PROVIDER_ID,
        //firebase.auth.TwitterAuthProvider.PROVIDER_ID,
        //firebase.auth.GithubAuthProvider.PROVIDER_ID,
        firebase.auth.EmailAuthProvider.PROVIDER_ID,
        //firebase.auth.PhoneAuthProvider.PROVIDER_ID
      ],
      // Terms of service url.
      tosUrl: '<your-tos-url>',
      // Privacy policy url.
      privacyPolicyUrl: '<main.html>'
    };

    // The start method will wait until the DOM is loaded.
    ui.start('#firebaseui-auth-container', uiConfig);

    // Fucntion that creates a new document in the users collection
function createUser() {

// if the current user logged in user
// is authenticated, then grab "uid" "displayName" and "email"
// use "set()" with merge (if document did not exist it will be created)
firebase.auth().onAuthStateChanged(function(user){
    db.collection("users").doc(user.uid).set(
  {
    "name":user.displayName, 
     "email":user.email,
    },{ merge: true });
});
}
  </script>



















<script>

</script>


















</body>

</html>